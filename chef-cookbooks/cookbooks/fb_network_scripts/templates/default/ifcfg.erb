# This file is generated by Chef - don't modify manually.
DEVICE=<%= @interface %>
<% if @config.has_key?('devicetype') %>
DEVICETYPE=<%= @config['devicetype'] %>
<% end %>
<% if @interface.start_with?('eth') && !@config.has_key?('vlan') %>
HWADDR=<%= @hwaddr %>
<% elsif @interface.start_with?('br') %>
TYPE=Bridge
DELAY=0
<% elsif @interface.start_with?('ovsbr') %>
TYPE=OVSBridge
DEVICETYPE=ovs
DELAY=0
<% elsif @interface.start_with?('tap', 'tunSVC') %>
TYPE=Tap
<% elsif @config.has_key?('type') %>
TYPE=<%= @config['type'] %>
<% end %>
NM_CONTROLLED=no
ONBOOT=<%= @config['onboot'] %>
<% if @config.has_key?('vlan') %>
VLAN=yes
ONPARENT=yes
<% end %>
<% if @config.has_key?('hotplug') %>
HOTPLUG=<%= @config['hotplug'] %>
<% end %>
<% if @config['bootproto'] == 'dhcp' %>
BOOTPROTO=dhcp
<% elsif @interface.start_with?('ipip') %>
BOOTPROTO=none
TYPE=IPIP
PEER_OUTER_IPADDR=<%= @config['peer_outer_ip'] %>
MY_INNER_IPADDR=<%= @config['my_inner_ip'] %>
PEER_INNER_IPADDR=<%= @config['peer_inner_ip'] %>/31
<% elsif @config['bridge'] %>
BRIDGE=<%= @config['bridge'] %>
IPV6INIT=no
<%   if @config.has_key?('mtu') %>
MTU=<%= @config['mtu'] %>
<%   end %>
<% elsif @config['ovs_bridge'] %>
OVS_BRIDGE=<%= @config['ovs_bridge'] %>
TYPE=OVSPort
DEVICETYPE=ovs
IPV6INIT=no
<% elsif @config.has_key?('master') %>
BOOTPROTO=none
MASTER=<%= @config['master'] %>
SLAVE=yes
<% else %>
BOOTPROTO=static
IPADDR=<%= @config['ip'] %>
NETMASK=<%= @config['netmask'] %>
<%
     %w{
       my_inner_ipaddr
       peer_outer_ipaddr
       peer_inner_ipaddr
       gateway
       ipaddr1
       ipv6_gateway
       netmask1
       peerdns
       bonding_master
       srcaddr
     }.each do |key|
       if @config[key]
%>
<%=  key.upcase %>=<%= @config[key] %>
<%     end 
     end 
     if @interface.start_with?('tun') %>
LINKDELAY=0
<%   end %>
<%   if @config.has_key?('ipv6') %>
IPV6INIT=yes
IPV6_SET_SYSCTLS=no
IPV6_AUTOCONF=<%= @config['ipv6_autoconf'] %>
IPV6ADDR=<%= @config['ipv6'] %>
<%     if @config.has_key?('v6router') %>
IPV6_ROUTER=<%= @config['v6router'] %>
<%     end %>
<%     if @config.has_key?('v6secondaries') %>
IPV6ADDR_SECONDARIES="<%= @config['v6secondaries'].join(" \\\n") %>"
<%     end %>
<%   end %>
<%   if @config.has_key?('mtu') %>
MTU=<%= @config['mtu'] %>
<%   end %>
<% end %>
<% if @config.has_key?('dns') %>
<% @config['dns'].each_with_index do |dns, idx| %>
DNS<%= idx %>=<%= dns %>
<% end %>
<% end %>
<% if @routing_config.has_key?('default_metric') %>
METRIC="<%= @routing_config['default_metric'].to_s %>"
<% end %>
<% if @config['extra_route_opts'] %>
EXTRA_ROUTE_OPTS="<%= @config['extra_route_opts'] %>"
<% end %>
<% if @config.has_key?('bonding_opts') %>
BONDING_OPTS="<%= @config['bonding_opts'] %>"
<% end %>
